<section id="operation-validations">

    <div class="card shadow p-3 mb-5 bg-white rounded">
        <div class="card-header">
            <h3>Get the validation of an operation's inputs</h3>
        </div>

        <div class="card-body">

            <div class="card bg-dark text-white font-weight-bold text-monospace">
                <div class="card-body">
                    <span class="request-method">GET</span> {server}/rest/api/validate_operation_inputs/{operation_id}/
                </div>
            </div>

            <p>Gets the result of applying the validation rules on the inputs of a specific operation.</p>
            <p>The returned object is divided in 2 parts: <i>elements</i> and <i>groups</i>.
             <i>Elements</i> is an array containing all elements (except radios and checkboxes, 
             which are includes in the groups themselves), their 
             identification and the the validation results, 
             which are divided into 2 groups: <span class="badge badge-danger p-1">Errors</span> and 
             <span class="badge badge-warning p-1">Warnings</span>.
             <i>Groups</i> is an array for the inputs representing checkboxes and radios elements.
            <br> 

              <p>While <span class="badge badge-danger p-1">Errors</span> should be considered a critical issue,
                <span class="badge badge-warning p-1">Warnings</span> should not.
                An <i>error</i> occurs when some validation, either by default or defined by the form's creator.
                A <i>warning</i> is just an indication that something is not wrong but also not right.
                For example, if a field is not mandatory to be filled, and the user doesn't introduze any value,
                in it, then the system will just give a <i>warning</i> and not an <i>error</i>.
              </p>

            <br> 
            Possible messages (both for <span class="badge badge-danger p-1">Errors</span> and 
            <span class="badge badge-warning p-1">Warnings</span>):</p>

<pre>{'code':1, 'message': 'No value!'}
{'code':2, 'message': 'Incorrect format/pattern!'} # PATTERN
{'code':3, 'message': 'No uppercase!'}
{'code':4, 'message': 'Max length exceed!'}
{'code':5, 'message': 'Max value exceeded!'}
{'code':6, 'message': 'Min value exceeded!'}
{'code':7, 'message': 'No option selected!'}</pre>

            <p>Information returned:<p>
            For <i>elements</i>:
            <ul>
              <li>Element ID</li>
              <li>Element Name</li>
              <li>Element Label</li>
              <li>Array with the <span class="badge badge-warning p-1">Warnings</span> messages</li>
              <li>Array with the <span class="badge badge-danger p-1">Errors</span> messages</li>
            </ul>

            For <i>groups</i>:
            <ul>
              <li>Group ID</li>
              <li>Group Name</li>
              <li>Array with the <span class="badge badge-warning p-1">Warnings</span> messages</li>
              <li>Array with the <span class="badge badge-danger p-1">Errors</span> messages</li>
            </ul>

            <p><i>Disabled</i> or <i>hidden</i> elements or groups return null as their 
            <span class="badge badge-warning p-1">Warnings</span> and 
            <span class="badge badge-danger p-1">Errors</span> messages. 
            Check element <i>text_1</i> and group <i>gp_1</i> in the example bellow.</p>


            <span class="header-params">PATH PARAMETERS:</span>
            <hr>
            <div class="row ml-4">
                <dt class="col-2">operation_id</dt>
                <dt class="col-1"><span class="badge badge-secondary">number</span></dt>
                <dd class="col-9">ID of the operation</dd>
            </div>

            <br>

            <span class="header-params">HEADER PARAMETERS:</span>
            <hr>
            <div class="row ml-4">
                <dt class="col-2">Authorization</dt>
                <dt class="col-1"><span class="badge badge-secondary">-</span></dt>
                <dd class="col-9">Token [token]</dd>
            </div>

            <br>

            <span class="header-params">RESPONSES:</span>
            <hr>

            <div class="response-success p-2">
                <div class="response-title">200 Successful</div>
                Operation details.
            </div>
            <br>
            <div class="response-error p-2">
                <div class="response-title">403 Forbidden</div>
                Invalid token or Authentication credentials were not provided.
            </div>
            <br>
            <div class="response-error p-2">
                <div class="response-title">404 Not Founded</div>
                Specified operation does not exist.
            </div>
            <br>
            <div class="response-error p-2">
                <div class="response-title">500 Internal Server Error</div>
                Unknown error.
            </div>
            <br>             

            <br> 
            <span class="header-params">RESPONSE FIELDS DESCRIPTION:</span>
            <hr>
            
            <p>The response is split into two objects:</p>
            <ul>
              <li><i>elements</i>: array of elements (except CHECKBOXES and RADIOS), with their main properties (
                <i>id</i>, <i>name</i> and <i>label</i>)
              and two arrays of objects, <i>warnings</i> and <i>errors</i>, containing the results of the validation
              process</li>
              <li><i>groups</i>: array of groups (of CHECKBOXES and RADIOS), with their <i>id</i> and <i>name</i>
              and two arrays of objects, <i>warnings</i> and <i>errors</i>, containing the results of the validation
              process</li>
            </ul>

            <br>


            <span class="header-params">EXAMPLE:</span>
            <hr>            
            <h5>Request</h5>
            <span class="example-request m-2">{server}/rest/api/validate_operation_inputs/97</span>
            
            <br>
            <br>

            <h5>Response</h5>
            <div class="example-response text-monospace m-2 p-2">
                <pre>
{
  "elements": [
    {
      "id": "text_0",
      "name": "",
      "label": "",
      "errors": [
        {
          "code": 2,
          "message": "Incorrect format/pattern!"
        }
      ],
      "warnings": [
        {
          "code": 1,
          "message": "No value!"
        },
      ]
    },
    {
      "id": "drawing_0",
      "name": "",
      "label": "",
      "errors": [],
      "warnings": [
        {
          "code": 1,
          "message": "No value!"
        },
      ]
    },
    {
      "id": "text_1",
      "name": "",
      "label": "",
      "errors": null,
      "warnings": null
    },    
    ...
  ]
"groups": [
    {
      "id": "gp-0",
      "name": "Group 0",
      "errors": [],
      "warnings": [
        {
          "code": 1,
          "message": "No value!"
        }
      ]
    },
    {
      "id": "gp-1",
      "name": "Group 1",
      "errors": null,
      "warnings": null
    }    
  ]
}</pre>
            </div>
        </div>
    </div>

</section>