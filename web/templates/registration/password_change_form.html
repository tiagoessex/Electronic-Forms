{% extends "auth_base.html" %}
{% load i18n static %}

{% block title %}{% trans "Password change" %}{% endblock %}


{% block content %}

    {% if form.non_field_errors %}
        {% for error in form.non_field_errors %}
            <div class="alert alert-danger">
                {{ error }}
            </div>
        {% endfor %}
    {% endif %}


  <div class="text-center mb-3">
    <h3>{% trans 'PASSWORD CHANGE' %}</h3>
  </div>


    <form method="post" id="signup-form">
        {% csrf_token %}

        <div class="input-group has-feedback mb-2">
            <div class="input-group-prepend">
                <span class="input-group-text" id="basic-addon1"><i class="fas fa-lock"></i></span>
            </div>
            <input type="password" id="id_old_password" name="old_password" class="form-control"
                   placeholder="{% trans 'Old Password' %}" autocomplete="current-password" autofocus required>   
        </div>

            {% if form.old_password.errors %}
                {% for error in form.old_password.errors %}
                    <div class="alert alert-danger mt-1">
                        {{ error }}
                    </div>
                {% endfor %}
            {% endif %}         

        <div class="input-group has-feedback mb-2">
            <div class="input-group-prepend">
                <span class="input-group-text" id="basic-addon2"><i class="fas fa-lock"></i></span>
            </div>
            <input type="password" id="id_new_password1" name="new_password1" class="form-control"
                   placeholder="{% trans 'New password' %}" autocomplete="new-password" required >  
        </div>

            {% if form.new_password1.errors %}
                {% for error in form.new_password1.errors %}
                    <div class="alert alert-danger mt-1">
                        {{ error }}
                    </div>
                {% endfor %}
            {% endif %}          

        <div class="input-group has-feedback mb-2">
            <div class="input-group-prepend">
                <span class="input-group-text" id="basic-addon3"><i class="fas fa-lock"></i></span>
            </div>
            <input type="password" id="id_new_password2" name="new_password2" class="form-control"
                   placeholder="{% trans 'Confirm new password' %}" autocomplete="new-password" required > 
        </div>

            {% if form.new_password2.errors %}
                {% for error in form.new_password2.errors %}
                    <div class="alert alert-danger mt-1">
                        {{ error }}
                    </div>
                {% endfor %}
            {% endif %}            

        <div class="row">
            <div class="col text-center">
                <button type="submit" class="btn btn-primary btn-block">{% trans 'Change my password' %}</button>
            </div>
        </div>

    </form>

  
{% endblock %}